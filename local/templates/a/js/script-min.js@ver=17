const initBqouteGallery=function(){document.addEventListener("click",function(e){const t=e.target.closest(".bqoute__gallery");if(!t)return;e.preventDefault();const n=e.target.closest("img"),o=t.children[0];if(o==n)return;const r=n.src,s=o.src;n.src=s,o.src=r})};document.addEventListener("click",function(e){const t=e.target.closest(".bqoute__gallery");if(!t)return;e.preventDefault();const n=e.target.closest("img"),o=t.children[0];if(o==n)return;const r=n.src,s=o.src;n.src=s,o.src=r});const initDonateForm=function(){document.addEventListener("input",function(e){const t=e.target.closest(".donate-form");if(!t||!e.target.closest("input"))return;e.preventDefault();const n=e.target.closest("input[type='number']");if(n?(t.dataset.sum=n.value,t.querySelector("input:checked")&&(t.querySelector("input:checked").checked=!1)):(t.querySelector("input[type='number']").value="",t.dataset.sum=t.querySelector("input:checked").value),t.closest("[data-illustrated]")){const e=document.querySelector("[data-donate-img]"),n=document.querySelector("[data-donate-text]"),o=t.dataset.sum;let r=1,s="Вы накормите собаку или котика";o>=500&&o<700?(r=2,s="Вы накормите двух собак или котиков"):o>=700&&o<1500?(r=3,s="Вы накормите трех собак или котиков"):o>=1500&&(r=4,s="Вы накормите шесть собак или котиков"),e.src=`/local/templates/a/img/donate${r}.svg`,n.innerHTML=s}})};document.addEventListener("input",function(e){const t=e.target.closest(".donate-form");if(!t||!e.target.closest("input"))return;e.preventDefault();const n=e.target.closest("input[type='number']");if(n?(t.dataset.sum=n.value,t.querySelector("input:checked")&&(t.querySelector("input:checked").checked=!1)):(t.querySelector("input[type='number']").value="",t.dataset.sum=t.querySelector("input:checked").value),t.closest("[data-illustrated]")){const e=document.querySelector("[data-donate-img]"),n=document.querySelector("[data-donate-text]"),o=t.dataset.sum;let r=1,s="Вы накормите собаку или котика";o>=500&&o<700?(r=2,s="Вы накормите двух собак или котиков"):o>=700&&o<1500?(r=3,s="Вы накормите трех собак или котиков"):o>=1500&&(r=4,s="Вы накормите шесть собак или котиков"),e.src=`/local/templates/a/img/donate${r}.svg`,n.innerHTML=s}});const initFancybox=function(){document.querySelector("[data-fancybox]")&&($("[data-fancybox]").fancybox({animationEffect:"zoom-in-out",toolbar:!0}),$("[data-fancybox-loop]").fancybox({animationEffect:"zoom-in-out",toolbar:!0,loop:!0,selector:"[data-fancybox-loop]:not(.swiper-slide-duplicate)"}),$(document).on("click",".swiper-slide-duplicate",function(e){let t=$(this).parent().children(".swiper-slide:not(.swiper-slide-duplicate)");return t.eq(($(this).attr("data-swiper-slide-index")||0)%t.length).trigger("click.fb-start",{$trigger:$(this)}),!1}))};window.addEventListener("load",initFancybox);const initFormId=function(){if(!document.querySelector("[data-pet-id]")&&!document.querySelector("[data-runner-id]")&&!document.querySelector("[data-looking-id]"))return;document.addEventListener("click",function(e){const t=e.target.closest("[data-pet-id]")||e.target.closest("[data-runner-id]")||e.target.closest("[data-looking-id]");if(!t)return;const n=document.querySelector("input[name='pet']"),o=document.querySelector("input[name='runner']"),r=document.querySelector("input[name='looking']"),s=document.querySelector("input[name='desc']");n.value=t.dataset.petId?t.dataset.petId:"",o.value=t.dataset.runnerId?t.dataset.runnerId:"",r.value=t.dataset.lookingId?t.dataset.lookingId:"",s.value=t.dataset.desc?t.dataset.desc:""})};initFormId();const initLinePhotos=function(){window.addEventListener("scroll",function(){const e=document.querySelectorAll(".line-photos");e.length<1||window.innerWidth<767||e.forEach(function(e){const t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,o=window.innerHeight;if(t<=o&&n>=0){const r=100-100*n/(o+n-t),s=160*-r/100,i=e.querySelector("[data-icon='1']"),c=e.querySelector("[data-icon='2']");e.style.transform=`translateX(${s/10}rem)`,!i||(i.style.transform=`rotate(${24*r/100}deg)`),!c||(c.style.transform=`rotate(-${24*r/100}deg)`)}})})};window.addEventListener("scroll",function(){const e=document.querySelectorAll(".line-photos");e.length<1||window.innerWidth<767||e.forEach(function(e){const t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,o=window.innerHeight;if(t<=o&&n>=0){const r=100-100*n/(o+n-t),s=160*-r/100,i=e.querySelector("[data-icon='1']"),c=e.querySelector("[data-icon='2']");e.style.transform=`translateX(${s/10}rem)`,!i||(i.style.transform=`rotate(${24*r/100}deg)`),!c||(c.style.transform=`rotate(-${24*r/100}deg)`)}})});const initPersonBquote=function(){document.addEventListener("click",function(e){const t=e.target.closest(".person");if(!t)return;e.preventDefault();const n=document.querySelector(".person__blq");n.classList.add("_active"),n.innerHTML=t.querySelector(".person__dropdown").innerHTML}),document.addEventListener("click",function(e){const t=e.target;(t.classList.contains("person__blq")||t.closest(".person__close"))&&(e.preventDefault(),t.closest(".person__blq").classList.remove("_active"),e.preventDefault())})};document.addEventListener("click",function(e){const t=e.target.closest(".person");if(!t)return;e.preventDefault();const n=document.querySelector(".person__blq");n.classList.add("_active"),n.innerHTML=t.querySelector(".person__dropdown").innerHTML}),document.addEventListener("click",function(e){const t=e.target;(t.classList.contains("person__blq")||t.closest(".person__close"))&&(e.preventDefault(),t.closest(".person__blq").classList.remove("_active"),e.preventDefault())});const initOpenPopups=function(){document.addEventListener("click",function(e){const t=e.target.closest(".popupActivation");if(!t)return;e.preventDefault();const n=t.dataset.popup,o=document.querySelector(`.popup[data-popup='${n}']`);document.querySelectorAll(".popup").forEach(function(e){e.classList.remove("active"),e.closest(".popup").querySelector(".popup-slider")&&(e.closest(".popup").querySelector(".popup-slider").style.opacity="0")}),o.classList.add("active"),document.body.style.overflowY="hidden",document.body.offsetHeight>window.innerHeight&&(document.querySelector(".app").style.overflowY="scroll")})},initClosePopups=function(){document.addEventListener("mousedown",function(e){if(!e.target.closest(".closePopup")&&(!e.target.closest(".popup")||!e.target.closest(".popup__close")&&e.target.closest(".popup__content")))return;e.preventDefault();const t=document.querySelectorAll(".popup");document.body.style="",document.querySelector(".app").style.overflowY="",t.forEach(function(e){e.classList.remove("active")})})},closePopup=function(e){document.body.style="",document.querySelector(".app").style.overflowY="",e.classList.remove("active");const t=e.querySelectorAll("iframe");t.length>0&&t.forEach(function(e){e.src=""})};document.addEventListener("click",function(e){const t=e.target.closest(".popupActivation");if(!t)return;e.preventDefault();const n=t.dataset.popup,o=document.querySelector(`.popup[data-popup='${n}']`);document.querySelectorAll(".popup").forEach(function(e){e.classList.remove("active"),e.closest(".popup").querySelector(".popup-slider")&&(e.closest(".popup").querySelector(".popup-slider").style.opacity="0")}),o.classList.add("active"),document.body.style.overflowY="hidden",document.body.offsetHeight>window.innerHeight&&(document.querySelector(".app").style.overflowY="scroll")}),document.addEventListener("mousedown",function(e){if(!e.target.closest(".closePopup")&&(!e.target.closest(".popup")||!e.target.closest(".popup__close")&&e.target.closest(".popup__content")))return;e.preventDefault();const t=document.querySelectorAll(".popup");document.body.style="",document.querySelector(".app").style.overflowY="",t.forEach(function(e){e.classList.remove("active")})});const initScrollToAnchor=function(){const e=location.hash;if(!e)return void window.removeEventListener("scrollend",initScrollToAnchor);const t=function(){"complete"!=document.readyState?setTimeout(function(){t()},100):setTimeout(function(){location.hash="",location.hash=e,setTimeout(function(){window.removeEventListener("scrollend",initScrollToAnchor)},1e3)},500)};t()};window.addEventListener("scrollend",initScrollToAnchor);const initSliderFilter=function(){document.addEventListener("change",function(e){const t=e.target.closest("[data-slider-filter='tabs']");if(!t)return;const n=t.closest("[data-slider-filter='cont']"),o=e.target.value,r=n.querySelectorAll("[data-filter]"),s=n.querySelectorAll(".swiper");r.length>0&&r.forEach(function(e){e.dataset.filter==o?(e.classList.add("_active"),e.classList.add("swiper-slide")):(e.classList.remove("_active"),e.classList.remove("swiper-slide"))}),s.length>0&&s.forEach(function(e){e.swiper&&(e.swiper.slideTo(0),e.swiper.update(),e.swiper.updateProgress(),e.swiper.updateSlides())})}),setTimeout(function(){!function(){const e=document.querySelector("[data-slider-filter='tabs']");e&&e.querySelector("input").dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1,composed:!1}))}()},500)};initSliderFilter();let screenLen,startTranslate,isTouch=!1;const initSliders=function(){const e=document.querySelectorAll(".swiper._single");e.length>0&&e.forEach(function(e){const t=e.closest(".swiper-parent");let n,o,r,s,i,c;t&&(n=t.querySelector(".swiper-button-prev"),o=t.querySelector(".swiper-button-next"),r=t.querySelector(".swiper-pagination"),s=t.dataset.autoplay,i=t.dataset.fraction,c=t.dataset.effect),new Swiper(e,{slidesPerView:1,spaceBetween:16,watchSlidesProgress:!1,navigation:{nextEl:o||"",prevEl:n||""},autoplay:s?{delay:3e3}:"",effect:c?"slide":"fade",fadeEffect:{crossFade:!0},speed:1e3,disableOnInteraction:!1,pagination:{el:r||"",type:i?"fraction":"bullets",clickable:!0,renderFraction:function(e,t){return'<span class="fraction-number '+e+'"></span> <span class="fraction-separator"></span> <span class="fraction-number '+t+'"></span>'}}})});const t=document.querySelectorAll(".swiper.documents-mob-slider");t.length>0&&t.forEach(function(e){const t=e.closest(".swiper-parent");let n,o,r;t&&(n=t.querySelector(".swiper-button-prev"),o=t.querySelector(".swiper-button-next"),r=t.querySelector(".swiper-pagination")),new Swiper(e,{slidesPerView:1,spaceBetween:16,watchSlidesProgress:!1,navigation:{nextEl:o||"",prevEl:n||""},speed:1e3,disableOnInteraction:!1,pagination:{el:r||"",clickable:!0},on:{resize:function(t){window.innerWidth<530?t.el.swiper.init(e):t.el.swiper.destroy(!0,!0)}}})});const n=document.querySelectorAll(".swiper._team");n.length>0&&n.forEach(function(e){const t=e.closest(".swiper-parent");let n,o,r,s,i,c,a;t&&(n=t.querySelector(".swiper-button-prev"),o=t.querySelector(".swiper-button-next"),r=t.querySelector(".swiper-pagination"),s=t.dataset.autoplay,i=t.dataset.fraction,a=.715*window.innerWidth/100,c=t.dataset.effect),new Swiper(e,{slidesPerView:.66666,spaceBetween:16,watchSlidesProgress:!1,navigation:{nextEl:o||"",prevEl:n||""},autoplay:s?{delay:3e3}:"",effect:c?"slide":"fade",fadeEffect:{crossFade:!0},speed:1e3,disableOnInteraction:!1,pagination:{el:r||"",type:i?"fraction":"bullets",clickable:!0,renderFraction:function(e,t){return'<span class="fraction-number '+e+'"></span> <span class="fraction-separator"></span> <span class="fraction-number '+t+'"></span>'}},breakpoints:{530:{slidesPerView:1.35,spaceBetween:16},980:{slidesPerView:1,spaceBetween:2.4*a},1200:{slidesPerView:1,spaceBetween:2.4*a}},on:{init:function(e){screenLen=e.el.clientWidth},resize:function(e){screenLen=e.el.clientWidth},transitionStart:function(e){window.innerWidth>=530||e.el.classList.add("_process")},transitionEnd:function(e){window.innerWidth>=530||e.el.classList.remove("_process")},navigationNext:function(e){window.innerWidth>=530||(isTouch?e.el.swiper.translateTo(startTranslate-screenLen-16,1e3,!1,!0):e.el.swiper.translateTo(e.el.swiper.getTranslate()-screenLen-16,1e3,!1,!0),isTouch=!1)},navigationPrev:function(e){window.innerWidth>=530||(isTouch?e.el.swiper.translateTo(startTranslate+screenLen+16,1e3,!1,!0):e.el.swiper.translateTo(e.el.swiper.getTranslate()+screenLen+16,1e3,!1,!0),isTouch=!1)},touchStart:function(e){window.innerWidth>=530||(isTouch=!0,startTranslate=e.el.swiper.getTranslate())},touchEnd:function(e){window.innerWidth>=530||("next"==e.el.swiper.swipeDirection?setTimeout(function(){e.el.querySelector(".swiper-button-next").click()},1):"prev"==e.el.swiper.swipeDirection&&setTimeout(function(){e.el.querySelector(".swiper-button-prev").click()},1))}}})});const o=document.querySelectorAll(".swiper._3-col");o.length>0&&o.forEach(function(e){const t=e.closest(".swiper-parent");let n,o,r,s,i;t&&(n=t.querySelector(".swiper-button-prev"),o=t.querySelector(".swiper-button-next"),r=t.querySelector(".swiper-pagination"),i=.715*window.innerWidth/100,s=t.dataset.fraction),new Swiper(e,{slidesPerView:1,spaceBetween:i,watchSlidesProgress:!0,navigation:{nextEl:o||null,prevEl:n||null},speed:1e3,pagination:{el:r||null,type:s?"fraction":"bullets",clickable:!0,dynamicBullets:!0},breakpoints:{1023:{slidesPerView:3,spaceBetween:2.4*i},530:{slidesPerView:2,spaceBetween:2.4*i}},on:{init:function(e){setTimeout(function(){e.el.swiper.update()},600)}}})});const r=document.querySelectorAll(".swiper._autowidth");if(r.length>0&&r.forEach(function(e){if(!e.querySelector(".swiper-wrapper"))return;const t=e.closest(".swiper-parent");let n,o,r,s,i;t&&(n=t.querySelector(".swiper-button-prev"),o=t.querySelector(".swiper-button-next"),r=t.querySelector(".swiper-pagination"),i=.715*window.innerWidth/100,s=t.dataset.fraction),new Swiper(e,{slidesPerView:1,spaceBetween:i,watchSlidesProgress:!0,navigation:{nextEl:o||null,prevEl:n||null},speed:1e3,pagination:{el:r||null,type:s?"fraction":"bullets",clickable:!0,dynamicBullets:!0},grid:{fill:"row",rows:2},breakpoints:{1200:{slidesPerView:"auto",spaceBetween:2.4*i},767:{slidesPerView:"auto",spaceBetween:2.4*i},530:{slidesPerView:"auto",spaceBetween:2.4*i}}})}),document.querySelector(".gallery-thumbs._gallery")){const e=new Swiper(".gallery-thumbs._gallery",{slidesPerView:5,slideToClickedSlide:!0,watchOverflow:!0,on:{afterInit:function(e){e.el.classList.add("_loaded")},touchStart:function(e,n){const o=[].slice.call(n.target.closest(".swiper-wrapper").children).indexOf(n.target.closest(".swiper-slide"));t.slideTo(o)}}}),t=new Swiper(".gallery-top._gallery",{spaceBetween:0,speed:600,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:e,autoScrollOffset:1},navigation:{nextEl:".swiper-button-next._gallery",prevEl:".swiper-button-prev._gallery"},watchOverflow:!0,autoHeight:!0,breakpoints:{1024:{autoHeight:!1}},preloadImages:!1,lazy:{watchSlidesProgress:!0,loadPrevNext:!0,loadOnTransitionStart:!0},pagination:{el:".swiper-pagination._gallery",type:"bullets",clickable:!0,dynamicBullets:!0},on:{afterInit:function(e,t){setTimeout(function(){document.querySelector(".gallery-thumbs._gallery").swiper.update(),e.el.classList.add("_loaded")},600)}}})}};initSliders();const initTabs=function(){if(!document.querySelector(".tabItem"))return;document.querySelectorAll("[data-tabs]").forEach(function(e){e.querySelectorAll(".tabItem")[0].classList.add("_active"),e.querySelectorAll(".tabContent")[0].classList.add("_active")}),document.addEventListener("click",function(e){const t=e.target.closest(".tabItem");if(!t)return;e.preventDefault();const n=t.closest("[data-tabs]"),o=n.querySelector(".tabItem._active"),r=n.querySelector(".tabContent._active"),s=n.querySelectorAll(".tabContent"),i=[].slice.call(t.closest("[data-tab-items]").children).indexOf(t.closest(".tabItem"));o.classList.remove("_active"),t.classList.add("_active"),r.classList.remove("_active"),s[i].classList.add("_active"),s[i].querySelector(".swiper")&&s[i].querySelectorAll(".swiper").forEach(function(e){e.swiper.update()})})},initMobileTabs=function(){if(!document.querySelector(".tabAccordion"))return;document.addEventListener("click",function(e){const t=e.target.closest(".tabAccordion");if(!t)return;t.nextElementSibling;t.classList.toggle("_active")})};initTabs(),initMobileTabs();const initToggleActive=function(){document.addEventListener("click",function(e){const t=e.target.closest("[data-active]");if(!t)return;e.preventDefault();const n=t.dataset.active;document.querySelector(`[data-target-active="${n}"]`).classList.toggle("_active")})};document.addEventListener("click",function(e){const t=e.target.closest("[data-active]");if(!t)return;e.preventDefault();const n=t.dataset.active;document.querySelector(`[data-target-active="${n}"]`).classList.toggle("_active")});const initTransactionsImgsRelocate=function(){const e=document.querySelector(".transactions__img");if(!e)return;const t=function(){const t=e.closest(".transactions"),n=t.querySelector(".transactions__forms .tabs"),o=t.querySelector(".transactions__list");window.innerWidth<1024?n.insertAdjacentElement("afterend",e):o.prepend(e)};t(),window.addEventListener("resize",t)};initTransactionsImgsRelocate();